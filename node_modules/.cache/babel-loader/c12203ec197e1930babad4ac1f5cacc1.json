{"ast":null,"code":"import _classCallCheck from\"/home/aslambeq/skills/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/aslambeq/skills/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/aslambeq/skills/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/aslambeq/skills/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{compose}from'redux';import{follow,getUsersThunkCreator,setCurrentPageAC,toggleFollowingProgressAC,unfollow}from'../../redux/users-reducer';import{getFollowingInProgress,getIsFetching,getPageSize,getTotalUsersCount,getUsers,getСurrentPage}from'../../redux/users-selectors';import Preloader from'../Common/Preloader/Preloader';import Users from'./Users';var UsersContainer=/*#__PURE__*/function(_React$Component){_inherits(UsersContainer,_React$Component);var _super=_createSuper(UsersContainer);function UsersContainer(props){var _this;_classCallCheck(this,UsersContainer);_this=_super.call(this,props);_this.onPageChanged=function(pageNumber){var pageSize=_this.props.pageSize;_this.props.getUsersThunkCreator(pageNumber,pageSize);};return _this;}_createClass(UsersContainer,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props=this.props,currentPage=_this$props.currentPage,pageSize=_this$props.pageSize;this.props.getUsersThunkCreator(currentPage,pageSize);// [1]\n}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,this.props.isFetching?/*#__PURE__*/React.createElement(Preloader,null):null,/*#__PURE__*/React.createElement(Users,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress}));}}]);return UsersContainer;}(React.Component);/* let mapStateToProps = (state) => {\r\n    return {\r\n        users: state.usersPage.users,\r\n    }\r\n} */ // Selectors\nvar mapStateToProps=function mapStateToProps(state){return{users:getUsers(state),pageSize:getPageSize(state),totalUsersCount:getTotalUsersCount(state),currentPage:getСurrentPage(state),isFetching:getIsFetching(state),followingInProgress:getFollowingInProgress(state)};};export default compose(// withAuthRedirect,\nconnect(mapStateToProps,{follow:follow,unfollow:unfollow,setCurrentPage:setCurrentPageAC,toggleFollowingProgress:toggleFollowingProgressAC,getUsersThunkCreator:getUsersThunkCreator}))(UsersContainer);// 1. callback getUsers: getUsersThunkCreator","map":{"version":3,"sources":["/home/aslambeq/skills/my-app/src/components/Users/UsersContainer.jsx"],"names":["React","connect","compose","follow","getUsersThunkCreator","setCurrentPageAC","toggleFollowingProgressAC","unfollow","getFollowingInProgress","getIsFetching","getPageSize","getTotalUsersCount","getUsers","getСurrentPage","Preloader","Users","UsersContainer","props","onPageChanged","pageNumber","pageSize","currentPage","isFetching","totalUsersCount","users","followingInProgress","Component","mapStateToProps","state","setCurrentPage","toggleFollowingProgress"],"mappings":"4jBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,OAAT,KAAwB,OAAxB,CACA,OACIC,MADJ,CAEIC,oBAFJ,CAGIC,gBAHJ,CAIIC,yBAJJ,CAKIC,QALJ,KAMO,2BANP,CAOA,OACIC,sBADJ,CAEIC,aAFJ,CAGIC,WAHJ,CAIIC,kBAJJ,CAKIC,QALJ,CAMIC,cANJ,KAOO,6BAPP,CAQA,MAAOC,CAAAA,SAAP,KAAsB,+BAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,C,GAEMC,CAAAA,c,4HACF,wBAAYC,KAAZ,CAAmB,gDACf,uBAAMA,KAAN,EADe,MASnBC,aATmB,CASH,SAACC,UAAD,CAAgB,IACpBC,CAAAA,QADoB,CACP,MAAKH,KADE,CACpBG,QADoB,CAE5B,MAAKH,KAAL,CAAWb,oBAAX,CAAgCe,UAAhC,CAA4CC,QAA5C,EACH,CAZkB,cAElB,C,wFAEmB,iBACkB,KAAKH,KADvB,CACRI,WADQ,aACRA,WADQ,CACKD,QADL,aACKA,QADL,CAEhB,KAAKH,KAAL,CAAWb,oBAAX,CAAgCiB,WAAhC,CAA6CD,QAA7C,EAAuD;AAC1D,C,uCAOQ,CACL,mBACI,wCACK,KAAKH,KAAL,CAAWK,UAAX,cAAwB,oBAAC,SAAD,MAAxB,CAAwC,IAD7C,cAEI,oBAAC,KAAD,EACI,eAAe,CAAE,KAAKL,KAAL,CAAWM,eADhC,CAEI,QAAQ,CAAE,KAAKN,KAAL,CAAWG,QAFzB,CAGI,WAAW,CAAE,KAAKH,KAAL,CAAWI,WAH5B,CAII,aAAa,CAAE,KAAKH,aAJxB,CAKI,KAAK,CAAE,KAAKD,KAAL,CAAWO,KALtB,CAMI,MAAM,CAAE,KAAKP,KAAL,CAAWd,MANvB,CAOI,QAAQ,CAAE,KAAKc,KAAL,CAAWV,QAPzB,CAQI,mBAAmB,CAAE,KAAKU,KAAL,CAAWQ,mBARpC,EAFJ,CADJ,CAeH,C,4BA/BwBzB,KAAK,CAAC0B,S,EAkCnC;;;;KAMA;AACA,GAAIC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CAC7B,MAAO,CACHJ,KAAK,CAAEZ,QAAQ,CAACgB,KAAD,CADZ,CAEHR,QAAQ,CAAEV,WAAW,CAACkB,KAAD,CAFlB,CAGHL,eAAe,CAAEZ,kBAAkB,CAACiB,KAAD,CAHhC,CAIHP,WAAW,CAAER,cAAc,CAACe,KAAD,CAJxB,CAKHN,UAAU,CAAEb,aAAa,CAACmB,KAAD,CALtB,CAMHH,mBAAmB,CAAEjB,sBAAsB,CAACoB,KAAD,CANxC,CAAP,CAQH,CATD,CAWA,cAAe1B,CAAAA,OAAO,CAClB;AACAD,OAAO,CAAC0B,eAAD,CAAkB,CACrBxB,MAAM,CAANA,MADqB,CAErBI,QAAQ,CAARA,QAFqB,CAGrBsB,cAAc,CAAExB,gBAHK,CAIrByB,uBAAuB,CAAExB,yBAJJ,CAKrBF,oBAAoB,CAApBA,oBALqB,CAAlB,CAFW,CAAP,CASbY,cATa,CAAf,CAWA","sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport {\r\n    follow,\r\n    getUsersThunkCreator,\r\n    setCurrentPageAC,\r\n    toggleFollowingProgressAC,\r\n    unfollow\r\n} from '../../redux/users-reducer'\r\nimport {\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers,\r\n    getСurrentPage\r\n} from '../../redux/users-selectors'\r\nimport Preloader from '../Common/Preloader/Preloader'\r\nimport Users from './Users'\r\n\r\nclass UsersContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { currentPage, pageSize } = this.props\r\n        this.props.getUsersThunkCreator(currentPage, pageSize) // [1]\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const { pageSize } = this.props\r\n        this.props.getUsersThunkCreator(pageNumber, pageSize)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching ? <Preloader /> : null}\r\n                <Users\r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    onPageChanged={this.onPageChanged}\r\n                    users={this.props.users}\r\n                    follow={this.props.follow}\r\n                    unfollow={this.props.unfollow}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n/* let mapStateToProps = (state) => {\r\n    return {\r\n        users: state.usersPage.users,\r\n    }\r\n} */\r\n\r\n// Selectors\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getСurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    // withAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage: setCurrentPageAC,\r\n        toggleFollowingProgress: toggleFollowingProgressAC,\r\n        getUsersThunkCreator\r\n    })\r\n)(UsersContainer)\r\n\r\n// 1. callback getUsers: getUsersThunkCreator\r\n"]},"metadata":{},"sourceType":"module"}